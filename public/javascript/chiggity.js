// Generated by CoffeeScript 1.6.3
(function() {
  var loadLocations, showLocations, showMap;

  loadLocations = function() {
    var onError, onPosition, options;
    onPosition = function(pos) {
      console.log(pos);
      showMap(pos);
      return showLocations(pos);
    };
    onError = function(err) {
      switch (err.code) {
        case 1:
          return false;
        case 2:
          return false;
        case 3:
          return false;
        default:
          return false;
      }
    };
    options = {
      enableHighAccuracy: false
    };
    return window.navigator.geolocation.getCurrentPosition(onPosition, onError, options);
  };

  showMap = function(pos) {
    var map;
    map = L.map('map').setView([51.505, -0.09], 13);
    return false;
  };

  showLocations = function(pos) {
    return false;
  };

  $(document).ready(function() {
    if ($('#map').length) {
      return loadLocations();
    }
  });

}).call(this);
